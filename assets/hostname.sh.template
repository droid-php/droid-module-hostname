#!/bin/bash

# This script is generated by Droid.

#
# Change the host name.
#

NEWNAME="{{{ host.name }}}"
EXISTINGNAME="$(hostname)"

if [[ $NEWNAME = $EXISTINGNAME ]];
then
	echo "Hostname is ${EXISTINGNAME}. Nothing to do."
	exit 0
fi

sed -i "s/${EXISTINGNAME}/${NEWNAME}/g" /etc/hosts \
	&& hostname "${NEWNAME}" \
	&& echo "${NEWNAME}" > /etc/hostname \
	&& echo "Hostname was changed from ${EXISTINGNAME} to ${NEWNAME}."
